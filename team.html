<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="images/vjcicon.png">
    <title>VJC FC - Teams</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/custom.css">
    <style>

    </style>
</head>

<body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="index.html"><i class="vjc-icon"></i>VJC Football</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="events.html">Events</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="team.html">Team</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="about.html">About Us</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="join.html">Join Us</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Content placeholder - Add your content here -->
    <!-- Team Section -->
    <div class="container mt-5">
        <div class="row" id="playerCards">

        </div>
        <script>
            // Example data structure for players
            // Helper function to get a random headshot image

            // variables
            const randomUserApi = 'https://randomuser.me/api/';

            function headshot() {
                // Generate a random number for each headshot
                const randomise = Math.floor(Math.random() * 99);
                return `https://randomuser.me/api/portraits/men/${randomise}.jpg`;
            }
            function randomiseName() {
                return fetch(randomUserApi)
                    .then(response => response.json())
                    .then(data => {
                        const user = data.results[0];
                        const fullName = `${user.name.first} ${user.name.last}`;
                        return fullName;
                    })
                    .catch(() => "Unknown Player");
            }

            function randomiseNumber() {
                // Generate a random number for each player number
                return Math.floor(Math.random() * 99) + 1;
            }
            const positionsDict = {
                "Goalkeeper": 5,
                "Defender": 10,
                "Midfielder": 10,
                "Forward": 10,
            };

            const players = [];
            for (const position in positionsDict) {
                for (var i = 0; i < positionsDict[position]; i++) {
                    players.push({
                        number: randomiseNumber(),
                        name: randomiseName(),
                        image: headshot(),
                        position: position,
                        season: "2025-26"
                    });
                }
            }

            // Wait for all player names to resolve before rendering
            Promise.all(players.map(async player => {
                player.name = await player.name;
                return player;
            })).then(resolvedPlayers => {
                // Group players by position
                const grouped = {};
                resolvedPlayers.forEach(player => {
                    if (!grouped[player.position]) {
                        grouped[player.position] = [];
                    }
                    grouped[player.position].push(player);
                });

                // Render player cards by position
                const playerCards = document.getElementById('playerCards');
                playerCards.innerHTML = Object.keys(grouped).map(position => `
                    <h4 class="mb-3"><span class="badge bg-dark">${position.toUpperCase()}</span></h4>
                    <div class="row">
                        ${grouped[position].map(player => `
                            <div class="col-md-3 mb-4">
                                <div class="card h-100 shadow-sm border-0">
                                    <div class="card-body text-center">
                                        <div class="display-6 fw-bold mb-2">${player.number}</div>
                                        <img src="${player.image}" class="rounded-circle mb-3" style="width:70px;height:70px;" alt="${player.name}">
                                        <h5 class="card-title">${player.name}</h5>
                                        <p class="mb-1 text-uppercase text-muted small">${player.position}</p>
                                        <p class="mb-2 text-secondary fw-bold small">Season ${player.season}</p>
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                `).join('');
            });
        </script>


        <!-- Defenders -->

        <!-- Footer -->
        <footer class="bg-dark text-white py-4 mt-5">
            <div class="container">
                <div class="row">
                    <div class="col-md-6">
                        <h5>VJC Football</h5>
                        <p>Building champions on and off the field.</p>
                    </div>
                    <div class="col-md-6 text-md-end">
                        <p>Contact us: vjcfootball@school.edu</p>
                        <p id="currentDateTime">Current Date and Time:</p>
                    </div>
                </div>
            </div>
        </footer>

        <!-- Bootstrap JS Bundle with Popper -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

        <!-- Custom JavaScript -->
        <script src="css/main.js"></script>
</body>

</html>